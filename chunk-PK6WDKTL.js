import{a as w,b as F,c as b,d as A,e as L}from"./chunk-XNIJXEFC.js";import{$a as f,Aa as y,Oa as p,Pa as m,Qa as d,Ra as u,Sa as _,Ta as i,Ua as s,V as R,Wa as T,Xa as l,Za as a,_a as C,a as g,ab as E,b as h,bb as I,c as S,cb as M,jb as x,nb as k,sa as r}from"./chunk-ES2YJ4JP.js";function D(e,n){e&1&&(i(0,"p"),a(1,"Loading posts..."),s())}function N(e,n){if(e&1&&(i(0,"p"),a(1),s()),e&2){let t,o=l();r(),f("Error loading posts: ",(t=o.posts.error())==null?null:t.message)}}function B(e,n){if(e&1&&(i(0,"li"),a(1),s()),e&2){let t=n.$implicit;r(),C(t.title)}}function V(e,n){if(e&1&&(i(0,"ul"),u(1,B,2,1,"li",null,d),s()),e&2){let t=l();r(),_(t.posts.value())}}function W(e,n){e&1&&(i(0,"p"),a(1,"Loading altered posts..."),s())}function U(e,n){if(e&1&&(i(0,"p"),a(1),s()),e&2){let t,o=l();r(),f("Error loading altered posts: ",(t=o.alteredPosts.error())==null?null:t.message)}}function j(e,n){if(e&1&&(i(0,"li"),a(1),s()),e&2){let t=n.$implicit;r(),C(t.title)}}function $(e,n){if(e&1&&(i(0,"ul"),u(1,j,2,1,"li",null,d),s()),e&2){let t=l();r(),_(t.alteredPosts.value())}}function q(e,n){e&1&&(i(0,"p"),a(1,"Loading altered posts with async..."),s())}function z(e,n){if(e&1&&(i(0,"p"),a(1),s()),e&2){let t,o=l();r(),f("Error loading altered posts with async: ",(t=o.alteredPostsAsync.error())==null?null:t.message)}}function G(e,n){if(e&1&&(i(0,"li"),a(1),s()),e&2){let t=n.$implicit;r(),C(t.title)}}function H(e,n){if(e&1&&(i(0,"ul"),u(1,G,2,1,"li",null,d),s()),e&2){let t=l();r(),_(t.alteredPostsAsync.value())}}var v=class e{postsService=R(w);searchTerm=k("");posts=x({params:()=>this.searchTerm(),loader:({params:n})=>this.postsService.getFilteredPosts(n),defaultValue:[]});alteredPosts=x({params:()=>this.searchTerm(),loader:({params:n})=>this.postsService.getFilteredPosts(n).then(t=>t.map(o=>h(g({},o),{title:o.title.toUpperCase()}))),defaultValue:[]});alteredPostsAsync=x({params:()=>this.searchTerm(),loader:t=>S(this,[t],function*({params:n}){return(yield this.postsService.getFilteredPosts(n)).map(c=>h(g({},c),{title:c.title.toUpperCase()}))}),defaultValue:[]});reload(){this.posts.reload(),this.alteredPosts.reload(),this.alteredPostsAsync.reload()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=y({type:e,selectors:[["app-posts-resource"]],inputs:{searchTerm:[1,"searchTerm"]},outputs:{searchTerm:"searchTermChange"},decls:16,vars:4,consts:[[3,"ngModelChange","ngModel"],[3,"click"]],template:function(t,o){t&1&&(i(0,"h2"),a(1,"Posts with Resource"),s(),i(2,"input",0),M("ngModelChange",function(P){return I(o.searchTerm,P)||(o.searchTerm=P),P}),s(),i(3,"button",1),T("click",function(){return o.searchTerm.set("")}),a(4,"Clear filter"),s(),i(5,"button",1),T("click",function(){return o.reload()}),a(6,"Reload posts"),s(),p(7,D,2,0,"p")(8,N,2,1,"p")(9,V,3,0,"ul"),p(10,W,2,0,"p")(11,U,2,1,"p")(12,$,3,0,"ul"),p(13,q,2,0,"p")(14,z,2,1,"p")(15,H,3,0,"ul")),t&2&&(r(2),E("ngModel",o.searchTerm),r(5),m(o.posts.isLoading()?7:o.posts.error()?8:9),r(3),m(o.alteredPosts.isLoading()?10:o.alteredPosts.error()?11:12),r(3),m(o.alteredPostsAsync.isLoading()?13:o.alteredPostsAsync.error()?14:15))},dependencies:[L,F,b,A],encapsulation:2})};export{v as default};
